{"version":3,"sources":["webpack:///./services/countries-service.js","webpack:///./js/countries.js"],"names":["fetchCountries","searchQuery","fetch","then","res","json","countryItems","document","querySelector","addEventListener","_","debounce","e","target","value","countriesService","data","length","reduce","acc","item","name","innerHTML","capital","population","area","flag","PNotify","alert","title","text","catch","error","console","log"],"mappings":"kLAGe,G,oBAAA,CACbA,eADa,SACEC,GAGb,OAAOC,MAPK,qCACC,QAIuBD,IAEEE,MAAK,SAAAC,GAAG,OAAIA,EAAIC,aCCpDC,GAJcC,SACjBC,cAAc,iBACdC,iBAAiB,QAASC,IAAEC,UAI/B,SAAkCC,GAChC,IAAMX,EAAcW,EAAEC,OAAOC,MAE7BC,EACGf,eAAeC,GACfE,MAAK,SAAAa,GAEJ,OAAIA,EAAKC,OAAS,GAAKD,EAAKC,QAAU,GAC7BD,EAAKE,QAAO,SAACC,EAAKC,GAEvB,OADAD,EAAMA,EAAG,OAAUC,EAAKC,KAAZ,QACJf,EAAagB,UAAYH,IAChC,IACsB,IAAhBH,EAAKC,OACPD,EAAKE,QAAO,SAACC,EAAKC,GAWvB,OAVAD,GAAO,OAAOC,EAAKC,KAAhB,sHAGqCD,EAAKG,QAH1C,2DAIuCH,EAAKI,WAJ5C,iEAKqCJ,EAAKK,KAL1C,uDAOSL,EAAKM,KAPd,kCAUKpB,EAAagB,UAAYH,IAChC,KAEHQ,IAAQC,MAAM,CACZC,MAAO,oBACPC,KAAM,6CAEAxB,EAAagB,UAAY,OAGpCS,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,QAtCkC,MAE7CzB,SAASC,cAAc,mB","file":"main.a0d45534a23dd3a9de9e.js","sourcesContent":["const baseUrl = 'https://restcountries.eu/rest/v2/';\nconst endpoint = 'name/';\n\nexport default {\n  fetchCountries(searchQuery) {\n    const requestParams = `${endpoint}${searchQuery}`;\n\n    return fetch(baseUrl + requestParams).then(res => res.json());\n  },\n};\n","import _ from 'lodash';\nimport PNotify from 'pnotify/dist/es/PNotify.js';\nimport countriesService from '../services/countries-service';\n\nconst searchInput = document\n  .querySelector('.search_input')\n  .addEventListener('input', _.debounce(searchInputSubmitHandler, 500));\n\nconst countryItems = document.querySelector('.country_items');\n\nfunction searchInputSubmitHandler(e) {\n  const searchQuery = e.target.value;\n\n  countriesService\n    .fetchCountries(searchQuery)\n    .then(data => {\n      // console.log('data', data);\n      if (data.length > 1 && data.length <= 10) {\n        return data.reduce((acc, item) => {\n          acc = acc + `<li>${item.name}</li>`;\n          return (countryItems.innerHTML = acc);\n        }, '');\n      } else if (data.length === 1) {\n        return data.reduce((acc, item) => {\n          acc += `<h2>${item.name}</h2>\n          <div class=\"body\">\n          <div class=\"info\">\n          <p><span class=\"span\">Столица: </span>${item.capital}</p>\n          <p><span class=\"span\">Население: </span>${item.population} человек</p>\n          <p><span class=\"span\">Площадь: </span>${item.area} кв. км.</p>\n          </div>\n          <img src=\"${item.flag}\" alt=\"Flag\">\n          </div>`;\n\n          return (countryItems.innerHTML = acc);\n        }, '');\n      } else {\n        PNotify.alert({\n          title: 'Запрос не найден!',\n          text: 'Пожалуйста, введите более точный запрос.',\n        });\n        return (countryItems.innerHTML = '');\n      }\n    })\n    .catch(error => console.log(error));\n}\n"],"sourceRoot":""}